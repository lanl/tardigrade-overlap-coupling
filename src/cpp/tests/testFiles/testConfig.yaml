# Mesh and datafile definitions of the macro and micro-scales

coupling_initialization:
        type: use_first_increment #Other options will be "from_file" and "use_current_increment"
        projection_type: "direct_projection" #Other options are "l2_projection"
        use_reconstructed_mass_centers: false #Whether to use the reconstructed or particle particle mass centers in the homogenization
        potential_energy_weighting_factor: 0.5 #The weighting factor for the potential energy between length-scales. ( qhat in Regueiro 2012 )
        potential_energy_partitioning_coefficient: #The partitioning coefficient for the potential energy ( qtilde in Regueiro 2012 )
                type: volume_fraction #The type of partitioning. Currently only "volume_fraction" is available
        kinetic_energy_weighting_factor: 0.5 #The weighting factor for the kinetic energy between length-scales. ( rhat in Regueiro 2012 )
        kinetic_energy_partitioning_coefficient: #The partitioning coefficient for the potential energy ( rtilde in Regueiro 2012 )
                type: volume_fraction #The type of partitioning. Currently only "volume_fraction" is available

macroscale_definition:
        filename: /home/nathan/research/overlap_coupling/src/cpp/tests/testFiles/macroscale_xdmf.xdmf
        mode: read
        node_id_variable_name: NODEID #The variable name of the node IDs
        cell_id_variable_name: ELEMID #The variable name of the cell IDs
        displacement_variable_names: #The names of the displacemnet attributes at the nodes
                u1: disp_x
                u2: disp_y
                u3: disp_z
                phi11: phi_xx
                phi12: phi_xy
                phi13: phi_xz
                phi21: phi_yx
                phi22: phi_yy
                phi23: phi_yz
                phi31: phi_zx
                phi32: phi_zy
                phi33: phi_zz

microscale_definition:
        filename: /home/nathan/research/overlap_coupling/src/cpp/tests/testFiles/microscale_xdmf.xdmf
        mode: read
        volume_variable_name: volume #The name of the volume attribute at the nodes
        density_variable_name: density #The name of the density attribute at the nodes
        displacement_variable_names: #The names of the displacement attributes at the nodes
                u1: disp_x
                u2: disp_y
                u3: disp_z
        acceleration_variable_names: #The names of the acceleration attributes at the nodes
                a1: uDotDot_1
                a2: uDotDot_2
                a3: uDotDot_3 
        stress_variable_names: #The names of the stress attributes at the nodes
                s11: s11
                s12: s12
                s13: s13
                s21: s21
                s22: s22
                s23: s23
                s31: s31
                s32: s32
                s33: s33
        node_id_variable_name: NODEID
        cell_id_variable_name: ELEMID
        volume_surface_node_pairs: #Defines the nodesets that represent the volumes and surface of the averaging domains
#Ghost pairs
                -
                  volume:  ghost_nodeset_volume_1
                  surface: ghost_nodeset_surface_1
                -
                  volume:  ghost_nodeset_volume_2
                  surface: ghost_nodeset_surface_2
                -
                  volume:  ghost_nodeset_volume_3
                  surface: ghost_nodeset_surface_3
                -
                  volume:  ghost_nodeset_volume_4
                  surface: ghost_nodeset_surface_4
                -
                  volume:  ghost_nodeset_volume_5
                  surface: ghost_nodeset_surface_5
                -
                  volume:  ghost_nodeset_volume_6
                  surface: ghost_nodeset_surface_6
                -
                  volume:  ghost_nodeset_volume_7
                  surface: ghost_nodeset_surface_7
                -
                  volume:  ghost_nodeset_volume_8
                  surface: ghost_nodeset_surface_8
#Free pairs
                -
                  volume:  free_nodeset_volume_1
                  surface: free_nodeset_surface_1
                -
                  volume:  free_nodeset_volume_2
                  surface: free_nodeset_surface_2
                -
                  volume:  free_nodeset_volume_3
                  surface: free_nodeset_surface_3
                -
                  volume:  free_nodeset_volume_4
                  surface: free_nodeset_surface_4
                -
                  volume:  free_nodeset_volume_5
                  surface: free_nodeset_surface_5
                -
                  volume:  free_nodeset_volume_6
                  surface: free_nodeset_surface_6
                -
                  volume:  free_nodeset_volume_7
                  surface: free_nodeset_surface_7
                -
                  volume:  free_nodeset_volume_8
                  surface: free_nodeset_surface_8

# Definition of the coupling domains
free_macroscale_domains:
        -
          name: name1 #The macro-scale domains can be named arbitrarily
          macro_cell: 1 #The index of the cell that corresponds to the macroscale free domain
          macro_nodeset: free_nodes
          micro_nodesets:
                  - 
                    name: ghost_nodeset_volume_1
                    number_of_surface_microdomains: 6
                  - 
                    name: ghost_nodeset_volume_2
                    number_of_surface_microdomains: 6
                  - 
                    name: ghost_nodeset_volume_3
                    number_of_surface_microdomains: 6
                  - 
                    name: ghost_nodeset_volume_4
                    number_of_surface_microdomains: 6
                  - 
                    name: ghost_nodeset_volume_5
                    number_of_surface_microdomains: 6
                  - 
                    name: ghost_nodeset_volume_6
                    number_of_surface_microdomains: 6
                  - 
                    name: ghost_nodeset_volume_7
                    number_of_surface_microdomains: 6
                  - 
                    name: ghost_nodeset_volume_8
                    number_of_surface_microdomains: 6

ghost_macroscale_domains:
        -
          name: name1 #The macro-scale domains can be named arbitrarily
          macro_cell: 2 #The index of the cell that corresponds to the macroscale ghost domain
          macro_nodeset: ghost_nodes
          micro_nodesets:
                  - 
                    name: free_nodeset_volume_1
                  - 
                    name: free_nodeset_volume_2
                  - 
                    name: free_nodeset_volume_3
                  - 
                    name: free_nodeset_volume_4
                  - 
                    name: free_nodeset_volume_5
                  - 
                    name: free_nodeset_volume_6
                  - 
                    name: free_nodeset_volume_7
                  - 
                    name: free_nodeset_volume_8

non_overlapped_microscale_domains: #Defining these is required for the non-overlapped micro-scale nodes which are adjacent to the overlapped domain. In other words, if a node is shared between a non-overlapped domain and a ghost or free domain, it should be noted here.
        - non_overlapped_nodeset_surface_1
        - non_overlapped_nodeset_surface_2
        - non_overlapped_nodeset_surface_3
        - non_overlapped_nodeset_surface_4
        - non_overlapped_nodeset_surface_5
        - non_overlapped_nodeset_surface_6
        - non_overlapped_nodeset_surface_7
        - non_overlapped_nodeset_surface_8
